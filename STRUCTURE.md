# INKA - Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞŸÑ€Ğ¾ĞµĞºÑ‚Ğ°

## ğŸ“ Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞŸÑ€Ğ¾ĞµĞºÑ‚Ğ°

```
/Users/simanbekov/projects/
â””â”€â”€ inka/                           # âœ… Ğ•Ğ´Ğ¸Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
    â”‚
    â”œâ”€â”€ apps/                       # ğŸš€ ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
    â”‚   â”œâ”€â”€ api/                    # Backend (FastAPI)
    â”‚   â”‚   â”œâ”€â”€ src/
    â”‚   â”‚   â”‚   â”œâ”€â”€ main.py        # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° API
    â”‚   â”‚   â”‚   â””â”€â”€ app/
    â”‚   â”‚   â”‚       â”œâ”€â”€ domains/   # API endpoints Ğ¿Ğ¾ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°Ğ¼
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ bookings/
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ clients/
    â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ masters/
    â”‚   â”‚   â”‚       â”‚   â””â”€â”€ support/
    â”‚   â”‚   â”‚       â””â”€â”€ deps/      # Dependencies (auth, db)
    â”‚   â”‚   â”œâ”€â”€ tests/
    â”‚   â”‚   â””â”€â”€ Dockerfile
    â”‚   â”‚
    â”‚   â”œâ”€â”€ bot/                    # Telegram Bot
    â”‚   â”‚   â”œâ”€â”€ src/
    â”‚   â”‚   â”‚   â”œâ”€â”€ main.py        # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ±Ğ¾Ñ‚Ğ°
    â”‚   â”‚   â”‚   â””â”€â”€ bot/
    â”‚   â”‚   â”‚       â”œâ”€â”€ handlers/  # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´
    â”‚   â”‚   â”‚       â””â”€â”€ states.py  # Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ²
    â”‚   â”‚   â”œâ”€â”€ tests/
    â”‚   â”‚   â””â”€â”€ Dockerfile
    â”‚   â”‚
    â”‚   â””â”€â”€ admin/                  # Frontend (React/Next.js)
    â”‚       â”œâ”€â”€ src/
    â”‚       â”œâ”€â”€ package.json
    â”‚       â””â”€â”€ Dockerfile
    â”‚
    â”œâ”€â”€ libs/                       # ğŸ“š ĞĞ±Ñ‰Ğ¸Ğµ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸
    â”‚   â”œâ”€â”€ core/                   # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° (DDD)
    â”‚   â”‚   â””â”€â”€ src/
    â”‚   â”‚       â”œâ”€â”€ domains/       # Ğ”Ğ¾Ğ¼ĞµĞ½Ñ‹
    â”‚   â”‚       â”‚   â”œâ”€â”€ auth/      # ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ, RBAC
    â”‚   â”‚       â”‚   â”œâ”€â”€ bookings/  # Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
    â”‚   â”‚       â”‚   â”œâ”€â”€ clients/   # ĞšĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹
    â”‚   â”‚       â”‚   â”œâ”€â”€ masters/   # ĞœĞ°ÑÑ‚ĞµÑ€Ğ°
    â”‚   â”‚       â”‚   â”œâ”€â”€ audit/     # ĞÑƒĞ´Ğ¸Ñ‚
    â”‚   â”‚       â”‚   â””â”€â”€ support/   # PII masking, Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°
    â”‚   â”‚       â”œâ”€â”€ models/        # ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    â”‚   â”‚       â”œâ”€â”€ schemas/       # Pydantic ÑÑ…ĞµĞ¼Ñ‹
    â”‚   â”‚       â””â”€â”€ services/      # Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹
    â”‚   â”‚
    â”‚   â”œâ”€â”€ database/               # ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    â”‚   â”‚   â”œâ”€â”€ src/
    â”‚   â”‚   â”‚   â”œâ”€â”€ base.py        # Base model
    â”‚   â”‚   â”‚   â””â”€â”€ session.py     # DB session
    â”‚   â”‚   â”œâ”€â”€ alembic/           # ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
    â”‚   â”‚   â””â”€â”€ alembic.ini
    â”‚   â”‚
    â”‚   â””â”€â”€ observability/          # ğŸ“Š Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
    â”‚       â””â”€â”€ src/
    â”‚           â””â”€â”€ logging_config.py
    â”‚
    â”œâ”€â”€ infra/                      # ğŸ—ï¸ Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
    â”‚   â”œâ”€â”€ terraform/              # Infrastructure as Code
    â”‚   â”‚   â”œâ”€â”€ environments/
    â”‚   â”‚   â”‚   â”œâ”€â”€ dev/
    â”‚   â”‚   â”‚   â”œâ”€â”€ staging/
    â”‚   â”‚   â”‚   â””â”€â”€ prod/
    â”‚   â”‚   â””â”€â”€ modules/
    â”‚   â””â”€â”€ k8s/                    # Kubernetes (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
    â”‚
    â”œâ”€â”€ docs/                       # ğŸ“– Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
    â”‚   â”œâ”€â”€ architecture/
    â”‚   â”‚   â””â”€â”€ README.md          # ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
    â”‚   â”œâ”€â”€ development/
    â”‚   â”‚   â””â”€â”€ setup.md           # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
    â”‚   â””â”€â”€ operations/
    â”‚       â””â”€â”€ deployment.md      # Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ² production
    â”‚
    â”œâ”€â”€ scripts/                    # ğŸ”§ Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
    â”‚   â”œâ”€â”€ setup-dev.sh
    â”‚   â””â”€â”€ deploy.sh
    â”‚
    â”œâ”€â”€ .github/                    # âš™ï¸ CI/CD
    â”‚   â””â”€â”€ workflows/
    â”‚       â””â”€â”€ ci.yml             # Lint + Test pipeline
    â”‚
    â”œâ”€â”€ .gitignore                  # Git ignore Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°
    â”œâ”€â”€ .pre-commit-config.yaml     # Pre-commit hooks
    â”œâ”€â”€ .env.example                # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
    â”œâ”€â”€ docker-compose.yml          # Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
    â”œâ”€â”€ Makefile                    # ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
    â”œâ”€â”€ pyproject.toml              # Python ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
    â”œâ”€â”€ package.json                # Node.js ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
    â””â”€â”€ README.md                   # Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
```

## ğŸ¯ Ğ§Ñ‚Ğ¾ Ğ‘Ñ‹Ğ»Ğ¾ Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¾

### Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğµ Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ (ĞÑ€Ñ…Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹)
- âŒ `inka-admin/` - ÑÑ‚Ğ°Ñ€Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
- âŒ `INKA_AI/` - Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€ÑƒÑÑ‰Ğ¸Ğ¹ ĞºĞ¾Ğ´
- âŒ `fastapi-bootstrap/` - Ğ½ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğ¹ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½
- âŒ `/projects/.git` - Ğ·Ğ°Ğ³Ñ€ÑĞ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹

### ĞÑ‡Ğ¸Ñ‰ĞµĞ½Ğ¾
- âœ… Ğ’ÑĞµ `__pycache__/` Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸
- âœ… Ğ’ÑĞµ `*.pyc` Ñ„Ğ°Ğ¹Ğ»Ñ‹
- âœ… ĞŸÑƒÑÑ‚Ñ‹Ğµ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸
- âœ… Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ (`.DS_Store`, `*.bak`)

## ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ĞŸÑ€Ğ¾ĞµĞºÑ‚Ğ°

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**
- 3 Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (API, Bot, Admin)
- 3 Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ (Core, Database, Observability)
- ĞŸĞ¾Ğ»Ğ½Ğ°Ñ CI/CD Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°
- Comprehensive Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**
- **Backend:** FastAPI, SQLAlchemy, Alembic
- **Bot:** aiogram (Telegram)
- **Frontend:** React/Next.js
- **Database:** PostgreSQL 15
- **Cache:** Redis 7
- **Deploy:** Docker, Google Cloud Run

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¡Ñ‚Ğ°Ñ€Ñ‚

```bash
cd /Users/simanbekov/projects/inka

# ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
cp .env.example .env
# ĞÑ‚Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ .env (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ BOT_TOKEN)

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑÑ‘
docker compose up --build

# Ğ˜Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Makefile
make dev
```

**Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹:**
- API: http://localhost:8000
- API Docs: http://localhost:8000/docs
- Admin Panel: http://localhost:3000
- Bot: Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ polling

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```bash
# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹
make test

# Ğ›Ğ¸Ğ½Ñ‚Ğ¸Ğ½Ğ³
make lint

# Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
make format
```

## ğŸ“¦ Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹

```bash
# API Ğ² Cloud Run
gcloud run deploy inka-api --source apps/api

# Bot Ğ² Cloud Run
gcloud run deploy inka-bot --source apps/bot
```

Ğ¡Ğ¼. [docs/operations/deployment.md](docs/operations/deployment.md) Ğ´Ğ»Ñ Ğ´ĞµÑ‚Ğ°Ğ»ĞµĞ¹.

## âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°

```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ
ls -la /Users/simanbekov/projects/

# Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ°Ğ¿ĞºĞ° inka/
# Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğµ Ğ¿Ğ°Ğ¿ĞºĞ¸ Ğ² _archive/ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ git
cd inka && git log --oneline

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‡Ñ‚Ğ¾ Ğ²ÑÑ‘ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
docker compose up
```
